# Services definition override for initialization

services:

  # Zitadel
  zitadel:
    # Deploy override
    command: [ "init", "--config", "/zitadel.yaml" ]
    healthcheck:
      test: [ "CMD", "/app/zitadel", "ready" ]
      interval: '10s'
      timeout: '5s'
      retries: 5
      start_period: '10s'
    environment:
      ZITADEL_LOGSTORE_ACCESS_STDOUT_ENABLED: ${ZITADEL_LOGS:-true}
    ports: !reset null
